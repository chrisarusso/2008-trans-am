<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>

    <link rel="stylesheet" type="text/css" href="/styles.css" />

    <title>JavaScript Utilities</title>

  </head>

  <body>

<!--AD_START-->
<div align="center">
<script type="text/javascript"><!--
google_ad_client = "pub-5759188606642566";
google_alternate_ad_url = "http://www.acme.com/donate/ad.html";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel ="1364652528";
google_page_url = document.location;
google_color_border = ["336699","B0E0E6","FF4500","578A24"];
google_color_bg = ["FFFFFF","FFFFFF","FFEBCD","CCFF99"];
google_color_link = ["0000FF","000000","DE7008","00008B"];
google_color_url = ["008000","336699","E0AD12","00008B"];
google_color_text = ["000000","333333","8B4513","000000"];
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<hr class="thick" />
<!--AD_END-->

    <h2>
      <img class="logo" style="width: 111; height: 64;" src="/resources/images/anvil.gif" alt="anvil" />
      ACME Labs JavaScript Utilities
    </h2>

  <ul>
    <li> <a href="#Calendar">Calendar</a> - simple calendar widget </li>
    <li> <a href="#Clusterer">Clusterer</a> - display thousands of markers on a Google map </li>
    <li> <a href="#EditInPlace">EditInPlace</a> - enable editing a text field right on the page </li>
    <li> <a href="#OverlayMessage">OverlayMessage</a> - display a transparent message box </li>
    <li> <a href="#Tabs">Tabs</a> - simple HTML tabbed panes </li>
  </ul>

  <hr />

  <h4>
    <a name="Calendar"></a>
    Calendar
  </h4>

  <p>
    [<a href="Calendar.js">View source code.</a>]
    [<a href="Calendar.html">View example.</a>]
  </p>

  <p>
    This is a simple calendar widget.
    It puts a calendar onto your page in an HTML element you specify.
    When the user selects a date, the widget calls your callback routine.
  </p>

  <p>
    Using Calendar is very easy.
  </p>

  <ol>

    <li>
      <p>
        In your HTML, make an element for the calendar to appear in:
      </p>
      <blockquote><pre><code><b>
&lt;div id="calendar"&gt;&lt;/div&gt;
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Load the routines into your code:
      </p>
      <blockquote><pre><code><b>
&lt;script src="http://www.acme.com/javascript/Calendar.jsm" type="text/javascript"&gt;&lt;/script&gt;
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Declare your callback routine:
      </p>
      <blockquote><pre><code><b>
function Callback( day, month, year )
    {  
    alert( day + '-' + MonthName( month ) + '-' + year ); 
    }
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Create the calendar widget, passing it the HTML element and the callback:
      </p>
      <blockquote><pre><code><b>
MakeCalendarCurrent( document.getElementById( 'calendar', Callback );
      </b></code></pre></blockquote>
    </li>

  </ol>

  <p>
    That's it!  Everything else happens automatically.
  </p>

  <hr />

  <h4>
    <a name="Clusterer"></a>
    Clusterer
  </h4>

  <p>
    [<a href="Clusterer2.js">View source code.</a>]
    [<a href="http://www.acme.com/jef/hotsprings/">View example.</a>]
  </p>

  <p>
    This object is an add-on for the
    <a href="http://www.google.com/apis/maps/">Google Maps API</a>.
    It lets you handle large numbers of markers, thousands if you like,
    without the slow performance you'd get if you tried displaying
    them via the maps API directly.
    Clusterer uses two techniques to accomplish this:
  </p>

  <ul>
    <li>
      Only the markers currently visible actually get created.
    </li>
    <li>
      If too many markers would be visible, then they are grouped
      together into cluster markers.
    </li>
  </ul>

  <p>
    Using Clusterer is very easy.
  </p>

  <ol>

    <li>
      <p>
        Load the routines into your code:
      </p>
      <blockquote><pre><code><b>
&lt;script src="http://www.acme.com/javascript/Clusterer2.jsm" type="text/javascript"&gt;&lt;/script&gt;
      </b></code></pre></blockquote>
      <p>
        (If your map is still using API v1, use Clusterer1.jsm instead.)
      </p>
    </li>

    <li>
      <p>
        Create a Clusterer object, passing it your map object:
      </p>
      <blockquote><pre><code><b>
var clusterer = new Clusterer(map);
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Wherever you now do <code><b>map.addOverlay(marker)</b></code>,
        instead call <code><b>clusterer.AddMarker(marker, title)</b></code>.
        The title is just a short descriptive string to use in the cluster
        info-boxes.
      </p>
    </li>

    <li>
      <p>
        If you are doing any <code><b>map.removeOverlay(marker)</b></code>
        calls, change those to
        <code><b>clusterer.RemoveMarker(marker)</b></code>.
      </p>
    </li>

  </ol>

  <p>
    That's it!  Everything else happens automatically.
  </p>

  <p>
    There are also a few routines to change the default behavior:
  </p>

  <ol>

    <li>
      If you don't like the default large blue cluster icon,
      you can call <code><b>clusterer.SetIcon(icon)</b></code> to change it.
    </li>

    <li>
      <code><b>clusterer.SetMaxVisibleMarkers(n)</b></code> lets you change
      the threshold marker count where clustering kicks in.
      The default is 150 markers.
    </li>

    <li>
      <code><b>clusterer.SetMinMarkersPerCluster(n)</b></code> sets the
      minumum number of markers for a cluster.
      The default is five.
    </li>

    <li>
      <code><b>clusterer.SetMaxLinesPerInfoBox(n)</b></code> sets the
      maximum number of lines in an info box.
      The default is ten, but if your map is small this may be too many.
    </li>

  </ol>

  <hr />

  <h4>
    <a name="EditInPlace"></a>
    EditInPlace
  </h4>

  <p>
    [<a href="EditInPlace.js">View source code.</a>]
    [<a href="EditInPlace.html">View example.</a>]
  </p>

  <p>
    This object lets you make any text on the page editable.
    The user clicks on it and it turns into an input field, with
    Save and Cancel buttons.
    If the Save button gets clicked then the text is changed and
    you get a callback notifying you.
  </p>

  <p>
    Using EditInPlace is very easy.
  </p>

  <ol>

    <li>
      <p>
        In your HTML, put the text you want to make editable into an
        identifiable HTML element.  You can use an id, a name, or
        whatever identification method you like.  For example:
      </p>
      <blockquote><pre><code><b>
&lt;div id="text"&gt;Here is the text.&lt;/div&gt;
      </b></code></pre></blockquote>
      <p>
        The element should have only text inside it, not other HTML elements.
      </p>
    </li>

    <li>
      <p>
        Load the routines into your code:
      </p>
      <blockquote><pre><code><b>
&lt;script src="http://www.acme.com/javascript/EditInPlace.jsm" type="text/javascript"&gt;&lt;/script&gt;
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Find the element you want to edit.  For example, if you specified an
        id in the HTML then you could say:
      </p>
      <blockquote><pre><code><b>
var element = document.getElementById( 'text' );
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Create an EditInPlace object, passing it the HTML element, the number
        of lines and columns you want in the editable field, and a callback
        function:
      </p>
      <blockquote><pre><code><b>
var eip = new EditInPlace( element, lines, columns, callback );
      </b></code></pre></blockquote>
      <p>
        If lines is one you get a text input field for editing; if lines is
        greater than one you get a textarea.
      </p>
    </li>

    <li>
      <p>
        The callback will probably a closure that you create, that knows
        which element it is getting called on.  For example you might say:
      </p>
      <blockquote><pre><code><b>
function () { RealCallback( element ); }
      </b></code></pre></blockquote>
      <p>
        That creates a closure that calls the real callback with the text
        element as argument.
      </p>
      <p>
        When the callback is called, the contents of the text element have
        already been changed to the new value.  If you don't need to do
        anything else, feel free to pass null as the callback.
      </p>
    </li>

  </ol>

  <p>
    That's it!  Everything else happens automatically.
  </p>

  <hr />

  <h4>
    <a name="OverlayMessage"></a>
    OverlayMessage
  </h4>

  <p>
    [<a href="OverlayMessage.js">View source code.</a>]
    [<a href="OverlayMessage.html">View example.</a>]
  </p>

  <p>
    This object lets you display a semi-transparent message box over
    another HTML element.
    For instance you could use it to display a progress message while loading
    a Google Map.
    It's not specific to Google Maps, though - you can use it on anything.
  </p>

  <p>
    Using OverlayMessage is very easy.
  </p>

  <ol>

    <li>
      <p>
        In your HTML, make an element for the message to appear over.
        Give it whatever style attributes you like:
      </p>
      <blockquote><pre><code><b>
&lt;div id="container" style="width: 100%; height: 7in;"&gt;&lt;/div&gt;
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Load the routines into your code:
      </p>
      <blockquote><pre><code><b>
&lt;script src="http://www.acme.com/javascript/OverlayMessage.jsm" type="text/javascript"&gt;&lt;/script&gt;
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Create an OverlayMessage object, passing it the HTML element:
      </p>
      <blockquote><pre><code><b>
var om = new OverlayMessage(document.getElementById('container'));
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Call the Set method when you want a message to appear:
      </p>
      <blockquote><pre><code><b>
om.Set('Loading...');
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Call the Clear method when you want the message to go away:
      </p>
      <blockquote><pre><code><b>
om.Clear();
      </b></code></pre></blockquote>
    </li>

  </ol>

  <p>
    That's it!  Everything else happens automatically.
    You continue to use the container element in your own code,
    it does not get modified.
  </p>

  <p>
    You can also change the colors used, if you don't like the defaults:
  </p>
  <blockquote><pre><code><b>
OverlayMessage.SetBackgroundColor( color );
OverlayMessage.SetBorderColor( color );
  </b></code></pre></blockquote>

  <hr />

  <h4>
    <a name="Tabs"></a>
    Tabs
  </h4>

  <p>
    [<a href="Tabs.js">View source code.</a>]
    [<a href="Tabs.html">View example.</a>]
  </p>

  <p>
    This object lets you put up a set of tabbed panes.
  </p>

  <p>
    Using Tabs is very easy.
  </p>

  <ol>

    <li>
      <p>
        In your HTML, make an element for the tabs to appear in:
      </p>
      <blockquote><pre><code><b>
&lt;div id="tabs"&gt;&lt;/div&gt;
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Load the routines into your code:
      </p>
      <blockquote><pre><code><b>
&lt;script src="http://www.acme.com/javascript/Tabs.jsm" type="text/javascript"&gt;&lt;/script&gt;
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Create a Tabs object, passing it the HTML element:
      </p>
      <blockquote><pre><code><b>
var tabs = new Tabs(document.getElementById('tabs'));
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Call the Add method for each pane you want to add.
        The arguments are the name of the tab, and a routine to call when the
        tab gets activated:
      </p>
      <blockquote><pre><code><b>
tabs.Add('Tab One', TabOneActivate);
      </b></code></pre></blockquote>
    </li>

    <li>
      <p>
        Declare the tab activation routines.
        They get passed the HTML element where the pane should go.
        The first time each routine is called, it should create the pane's
        contents:
      </p>
      <blockquote><pre><code><b>
function TabOneActivate(paneElement)
    {
    if ( paneElement.innerHTML == '' )
        paneElement.innerHTML = 'This is tab one.'
    }
      </b></code></pre></blockquote>
    </li>

  </ol>

  <p>
    That's it!  Everything else happens automatically.
  </p>

  <hr class="thick" />

  <p>
    Back to <a href="/">ACME Labs</a>.
  </p>
  <p>
    <a href="/mailto/?id=wa"><img class="mailto" src="/mailto/wa.gif" alt="email" /></a>
  </p>

  </body>

</html>
