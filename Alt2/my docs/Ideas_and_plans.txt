Thought  Progression of wikiCommunity

1-21:  

1: UTMOST IMPORTANCE 
Have to distinguish a good amount from wikipedia because many cities already have an entry on wikipedia.
Should ooze with community oriented features that will keep users coming back.  Should maybe have a diff skin to get people
to think outside of wikipedia.
Maybe consider name revision.
Also, distinguish from craigslist ... facebook probably the most.

I think I'd like to have a 'founder' user group for each page.  All cities/towns will be preloaded with a 
link that says, become the virtual founder of [city name]! and ** NEW IDEA ** -> image of city highlighted with surrounding cities.
 This user will become the founder but won't have all the permissions/responsibility of the mayor.  

This should bring the founder to a page to create an account if they don't have one, and otherwise use the account they have.
We should do checking in the db to see if their email exists as a founder of another city and if so, don't allow them to found.
The page should become unprotected after it receives a founder, meaning anyone can now edit.

Still thinking of some criteria for the mayor to make sure he/she is a good moderator.

Search needs to be improve to search names close in case the person fucks up the name of their own city.
The googleSiteSearch extension looked really good.  Searching will never grow much since we only need people to search on cities (although I
should take some thought as to whether or not its beneficial to search on page text).

Once the founder founds the page, it should populate the page with a handful of editable areas.  Which include:

Groups Section:
	Most important user draw.  This will feature where users can join groups.  IE... Pickup soccer, Widows... etc.  There should be a common subset
	of groups, and the ability to allow users to create new groups as well.  
	
Dining/Ent:
	Place where LOCAL businesses can plug their shit.  Will actually be sought by users instead of spamming ads.
	Ad generation.  Not sure whether or not to bring this to a new page or keep it minimized on the home page.
	This should only be editable by those who are paying for the content -- but how to do this without scaring away peeps..

Calendar of Events:
	Hopefully much like a google calendar... a place where people can post events (fireworks at hubbard park) and the like.  Should also tie
	into groups setting up events and users getting notifications and whatnot.  

What's it like:
	General knowledge from those who live in the community.  Good place for people looking to move into the area to check out what it's like.
	Will probably also need to be categorized to not clutter too much.  Maybe default collapsed stuff like weather, governmental shit, etc.

Random Ideas: --- just thinking here....

	Free verse area.  People write shit/rate shit
	City Diary... what happened in bristol today (mayor raped somebody)
	Photo Section of shit taken from within the community --> linking it to map of diff sections of town (that would be fucking sweet/tough)
	My[whatever] section where you can tab in shit like (I like going out in greenwich,ct ) and then greenwich ent/din/events will pop in there
	
1-22-08

Brainstorming main-page functionality.  How to draw users back continually.

Protecting Sections --> A: Use an extension (ideally not using extensions for upgrading purposes and the like)
B: Include the other pages in the home page (i.e. din/ent is it's own page  and is included on the town/city homepage) This would also
be nice so that these pages can have an expanded view off of the home page.  A potential idea would be to make all of the sections, small, 
collapsed version of of other pages for expansionary reasons.  Probably the best way to do it.  

Then we can have moderators of each page, and each section can be protected.  I.E. calendar has an owner, so do other things... and so on

JUST THOUGHT OF SOMETHING... Users need to be registered with their city.  Imperative part of the registration process.  Which requires 
one more field in user table

Therefore SCHEMA CHANGES WILL REQUIRE
	Perhaps a few tables with states, counties, and city/towns.  
	Addition foreign key in user table mapping the user to a certain town
	Group will have to be added to the user_group table (soemthing to think about with the ability to add groups)
	
	
For Groups I'd like maybe 8-15 primary categories that can each be drilled down into revealing more specifics (taxonomy).
The bottom should be other and should allow for creation of new categories... but we don't want this to become infinite so this will
require more thought.

Maybe collapsible elements is the way to go for the homepage stuff that may be taking up too much real estate.  Have a defaulted, summarized 
showing, and toggle expansion into the rest of it.
	
1-23-08

Another idea for homepage Section -> List of grievances... tell 'em why you're mad.  What could be improved, with enough support, it may 
change political policy.  I like that one...  People should be able to vote for and against certain things.  Maybe split two categories ... 
Public policy vs. general grievances.

Categories should be used to group together States... Cities of a state...  Cities of a County  And we can categorize categories...

No one should have page creation rights... We will never be growing pages, as it stands now


The base page should have everything else as subpages...  and maybe the most recent 5 things or so should show on the front page, 
while the rest is collapsed, and requires a clickthrough to the next page.

In preferences / maybe at top right citizen should have a status (founder, mayor, constituents, etc)

We should allow users to "move" or disassociate with a particular city to another.

It will take a bit longer to write, but we should have the users who are creating an account that have left a city's page
to have it autopopulate in their account creation for that.  If not, we wil start with states in a select thing
and then ajax in the city resultset when a onchange event happns.

NExt step is to go into create account, and do some validation against city and state selected.

1-24-08 

Thinking about citizenStatuses ('founder', 'mayor', 'regular citizen', 'model citizen', 'law enforcement') 
I guess it should be another field in the user table.
We'll have to make sure it's reset on "moves" as well as defaulted to regular citizen.  
A model citize will have to have a certain amount of edits or something.

So Permissions for each should be.
Founder -> nothing special, just known as the founder
Mayor -> all rights, beyond law enforcement.
Regular/model citizen -> edit, 
Law enforcement -> revert revisions, etc.

Overall, there should be no adding of pages, just editing text on certain pages.. (this could change)
Maybe sysops could create something in case we're missing... and should only be given to very few.
Although maybe we'll just have an extra page section that can be created from anyone... this may help with ideas of other features people want.

1-25-08
To garner some attention on the bike ride, I should have something on the homepage that says, notify me when wikiCommunity is coming to town.
Would be cool.

1-28-08 Sad....   Layout of page should be Accepted title, with disambiguation/redirects to the appropriate name.

Resolved but yet to do.  #REDIRECT [[pagename]] use that syntax and create all pages with accepted /  not accepted names that redirect to the default.

For photos section, need a way to associate the photo to the city.  Needs to be highly monitored page.  Only allow users with email to do so.
Upload file page can extract city/belonging parameter from user table => but will still have to have defined areas for this stuff.  Send them a reminder
On that page that this image is attached to x town	

Since One city may have multiple zips, and we only want one page for each city/town regardless of how many zips it has, we must take the following steps.
How to handle large cities (e.g. new york) with many  zip codes.  Initial thought was just one page per city, regardless of size, 
but it may make sense to compartmentalize a bit.  This may require granular, per metropolitan detail.   

How about for metropolis... still one base page, but subpages which are equal to a base page can branch off....

1-29-08 Are we limiting people too much by only allowing same city.  As a Bristol resident, do I not care about those in Southington?
Might make it impersonal to expand, might make it too limiting to not.


1-30 As part of the ESPN hook, I should challenge people on my path to ride with me.  Making this massive trip, but can't go it alone
.  Come join forest fucking gump along his journey.  See when he's coming to a town near you.

2-5-08 
As sean was saying, allow for users to extend search a certain radius around their home base.  Or for those looking to move maybe allow them to search for a base
city and then add x mile radius to that.

Extensions to consider and purpose
Aim -  for users to contact one another right then and there  (also consider this being a user field)


How to handle collapsible content

Collapse should not show anything, and expanded should show the summarized version of what's on the actual page
One potential way to do this (which I don't like) is to update the parent page text and sub page on each entry to the db.
E.G. Someone creates a new group... The parent page receives an edit from this action including the new group in the summary
and the sub page receives an edit to add it to the total.

This needs rethinking... there must be a better way

Let's go on to end result versus how to
*** Groups ***
PP - top most popular groups
SP - all groups
SSP - each group

*** Dining ***
PP- Top 5 new restaurants
SP - Full Categoried restaurant page 
SSP - specific page for one restaurant

*** Ent ***
PP- Top 5 new ent sources
SP - Full Categoried ent page 
SSP - specific page for one ent source

*** Life in City ***
PP- Most recent edition
SP - Full Categoried Life in city page 

*** Calendar ***
PP- 5 most recent events
SP - Full calendar wth ajaxable left and right 
SSP - Event page

*** Tell em why you're mad ***
PP- most recent general gripe, and most recent political gripe
SP - Full page with both categories (will take some thought as to how to organize)

 *** Photos ***
PP- most recent 3 photos
SP - Full gallery (will take some thought as to how to organize)
SSP - each photo has its own page with a story to it

*** myWC ***
PP- most recent 1 item from each service you subscribe to in another district
SP - Full page with all info from other areas.  (this may not be appropriate to be on the page, rather as additional stuff 
under user preferences)

*** Freeform ***
PP- most recent comment on free form page
SP - Full page with all free form comments.  (will need to be organized as well)

*** Residents ***
PP- top 5 most recently joined
SP - All residents of that area with citizen status and maybe some other info.

2-6-08
 
It appears that I should check on the monobook.php level to see if we're on a home page as it were.  if we are break the data[bodytext] up 
and insert dynamic content under each heading.  Maybe this can be done with an extension that checks namespace to make sure it's not a subpage.
If it's not one of those pages, we should return html(bodytext) like normal.

Maybe by using articlefromtitle  http://www.mediawiki.org/wiki/Manual:Hooks/ArticleFromTitle

also could stuff in what we need conditionally with parsing hoooks
http://www.mediawiki.org/wiki/Manual:Hooks/ArticleFromTitle

Should have an array in one place with key value pairs equaling the headers in my base page (which should never change) that will be used
to decide what to insert text after where.  WHAT!?!?  e.g.  groups, and dining are in this array and we know to include groups after groups text
and restaurants after restaurants text.

2-7-08 
Now have good method for inserting dynamic text in main pages.


2-9-08
Google map for the coordinates of each city where users can edit locations and put down places of business, etc.  
This is a must and would be cash fire.  Should it be part of the landing page, or some interior stuff.
So we will have to maintain in the db each user who adds a data point and whatnot.  Then create a service that renders that to xml,
or however the file checks for it and maps those points for users looking at Milford for example.  Something to consider is scope of 
maps and everything else for that matter.  Poeple are going to want to know about surrounding towns, and not just their own, but
performance will become a concern.  This reaches into groups, maps, tons of ish.

2-11-08 
Current most important step is to determine data layout (ins and outs).  How are we handling users, events, maps, images, 
Each event should be associated to a user
Each picture should be associated to a user.  The pictures should optionally be associated to a mapped locale.
Each user who is logged in must associate with a city.  (are there any other use cases?)
Each group is associated to a city
Each city is associated to a county
Each county is assoicated to a state


*** separate idea to save user name namespace would be to prepend the user's name with the state,city so Zeus would become bristol,ctZeus, and 
make sure when displaying username in anyway, we convert it to just Zeus.  May be tough to completely cover this in every aspect.

New idea in terms of hiearchichal stuff.  Instead of trying to handle it all with whole new schema.
for example pages should be state/city/groups/subgroup_a/subgroup_b
This way all pages would be editable... to add stuff... and i could enter dynamic content via CityPage method.

2-13-08
Consider having more than Dining and Ent for places to advertise.  But don't want to become yellow pages and just advertise tom's local 
plumbing.  
panaramio exposes their api as well. So we can utilize their pictures as well for the site.  ....as well.

2-18 
aim hookin would be a good way for users to commuicate real time who are in groups and whatnot, and it doens't give away exact geographic location

2-19
Other api hookins that will allow users to easily take their photos and port them to our site instead of having to reupload photos 
they already have.
GET SCHEMA DOWN!!!

2-23 
Need more work on the schema in terms of advertisers and whatnot.  Look into cost structure etc.
Make subversion repo for wikiCommunity on russeme.com and have it point to trunk.

2-24
Make groups locations a mappable pin.
Add locations to schema with potentially other tables handling different types i.e. photos, group locales, events... etc.

2-25 Before the big push I have a few things I'm not sure how we want to implement.

The home page categories...
New idea... -> have th residents and owners of a section listed up at the top next to menu.

2-27
May be a recap, but heading towards finalized ideas for alpha.
---------------------------------------------------------------------------------------------------------------------------------------------
Home page be wikiCommunity/{statename}/{cityName}/
societies home page  							  societies
society cat page										   /{cat}
society cat sub											       	 /{sub}
society home page												       /{societyName}

Ex:						  CT		  /Bristol/societies  /baseball/fans/Fans of Bristol Legion
Estimated pages per city:     1      *     1     *  1     *  10    * 10    * 10  = 1000
---------------------------------------------------------------------------------------------------------------------------------------------

events home page                                  events
event date page									 	    /{year}/{month}/{date}
event home page																  /{eventName}

Ex:						  CT		  /Bristol/events  /2008/Feb/29           /Fub's B-day be there or b square
Estimated pages per city:     1      *     1     *  1     *  1    * 12    * 30   * 3 =~ 1000

---------------------------------------------------------------------------------------------------------------------------------------------


residents home page 						      residents

Estimated pages per city:    				 = 1
---------------------------------------------------------------------------------------------------------------------------------------------
free form page									  free-form
														   /{year}/{month}/{date}
Estimated pages per city:     1      *     1     *  1     *  1    * 12    * 30  = 350														   
---------------------------------------------------------------------------------------------------------------------------------------------
												   
gripebox home page								  gripe-box
gripe cat?												   /{cat}
indiv gripe														 /{year}/{month}/{date}/{gripe}	

Estimated pages per city:     1      *     1     *  1     *  2    * 1    * 12  * 30	* 5 = 3000													   
---------------------------------------------------------------------------------------------------------------------------------------------


Dining home page								  dining
Restaurant page											/{restaurantName}

Estimated pages per city:     1      *     1     *  1     *  50     = 50														   
---------------------------------------------------------------------------------------------------------------------------------------------

Entertainment home page							  Entertainment
Entertainters page											   /{entName}

Estimated pages per city:     1      *     1     *  1     *  50     = 50														   
---------------------------------------------------------------------------------------------------------------------------------------------

Other businesses							      {BusinessCat}/{busName}

Estimated pages per city:     1      *     1     *  1     *  10    * 10   = 100														   
---------------------------------------------------------------------------------------------------------------------------------------------

Photos home page								  Photos

Estimated pages per city:     1      *     1     *  1000  = 1000	 // not sure how this is going to work but assume at least 1000 images per city													   
---------------------------------------------------------------------------------------------------------------------------------------------

Page count per city = 6500 - 7000 * (25,000 us cities) = 162,500,000 -> 175,000,000 [seems daunting considering wikipedia has like 2.5 mill articles]

2-28
Free form page up front is explanation with links to "today's post" or what ever have you.
Residents will list off officals, and then all others.
How are we going to handle photos page?  Are we having multiple 

Use wiki markup for subcategories and what not
 [+]
 
 
 Users should be allowed to become leader of any section i.e. societies, etc. on their own accord witht the caveat that their email will be given out 
 on that section page to contact for any reason.  They will not be able to release this duty until someone else in line would like, which brings up the idea
 of having a section-owner queue.
 
Just dled categoryTree extension which should allow for great manipulation of cats combined with subpages should take care of what we want to do for most
pages.


3-1 
Make new namspaces for each new section
Make them searchable
Revised Todo

3-8 On the fucking train eh
Use categories with rewrites for Societies pages.
Mix and match sections with categories.  Perhaps subpage for all non- society shit, but categories for societies.  Will have to replicate what
is missing in each.
Making a new instance regardless.
If we decide to use categories and I hack that up... I will need to go into categoryPage.php... or hopefully make the changes outside for upgrading purposes.
There are certain sections we'll want to leave out.

3-11
So I'm an idiot.  Forgot that subpages can be allowed on any namespace, so I just enabled them for categories. 

Seems like this is how I'll do it going in.
Things to be considered:
URL -> rewrites should be able to handle this with apache.  Make basically every page a category page.
Titles -> we'll have to strip the ugly Category: stuff
Subpages -> same problem.  Maybe some universal way to strip Category: from all stuff since our rewrites'll work.
Namespace bumpage -> something to consider if we're ever going to use main for anything since it will be rewritten to Category
Customize Category Page -> we need to remove typically category stuff so that its a blank slate with owner-generated text, and whatever else
we want.  (I.e) google map tucked in top corner or whatever.
Links -> have to get links to point to structure without Category... might be a tough one.

-----------------------------------------
Just thought.  I should make a new skin that puts the text where I want an includes what I want where I want instead of trying to hack up theirs.
Caveat -> I think some things only work with monobook.

3-12
Users should be allowed to join up to 3 cities under one name.
Living in
Grew up in
Went to school in
Type of thing.

3-18	
Handling different content for each different subpage can be done by either having it point to different .php template files (which may be
quite difficult to near impossible) 
OR 
having switch statements in the WC.php for inclusion of different elements depending on the page.
Check out googlemaps plugin
should remove toc since in case user generated stuff does have 3 headings, we don't want it bumping down things. 

3-20 
Need to strip all internal links of the Category: thing so that our rewrite rules can pick them up and treat them as categories anyway, 
and they will appear clean to the user. so wikiCommunity.org/CT/Bristol/Societies/bigFootsDickFans instead of wikiCommunity.org/Category:CT/...

3-22
Redirect verythiing to category so that even Main_Page will go to Category:Main_Page and then I can link out all the non State/* pages that users will use.
	
3-23
Have made some headway on automated script.  Need to run category scripts as we're writing to the db.  use syntax found in linksupdate.php to insert
categories.  Article insertion is already set.
NEXT STEPS:
1. Preload DB with first round of cities.
2. Categorize everything
3. Develop templates for sections, i.e. the home city page template
4. Update schema to support what users will be writing, etc.  
5... SLEEP NOW

3-25 

Use title::isSubPage to load the links into categorylinks tbles
Use title::getBaseText to do the subpage linking...
still todo -> all interior pages for each city...
Redirects didn't happen... I think even unaccepted names are treated as regular city names right now.
Did not put cityType in select query so it never evaluated to cityType == 'A' == true, hence no redirects.  Will need to redo this a few times anyway

For societies page... it should show text if there aren't children... aka.... it's the final descendant.
To consider: Sports -> Soccer -> fans
What if they extend past fans... and fans wants to be its own page.
Consider loading some text into even template pages and just not display it for search indexing reasons...
we can check if the base text exists in db. getBaseText		with article function exists or getArticleId

New idea... only load cityType = 'D' but put the text in for zipcode and alternative names so that it comes up in a search.  Essentially teh same
idea.  We won't be displaying text on these pages anyway.... will we?  We could just update search index table if so..
After we've put in the article vie art->doEdit.  We can do art->getID and it return properly... for running all the category updates in the one.'

3 -26
Don't forget ideas like town sponsor
Also... for those who are paying for their page, we should not delete there page when not paying, just flag it as unsearchable, and not included in 
the category from the city its in.

3-27 
Growing concerned with adding too many pages everyday.  As I was thinking before, pages would have to be auto-generated every night, resulting 
in the addition of roughly 40,000 nightly, without users doing anything.  TOO MUCH...

New proposed setup.

One level deeper than the interior page...  We can tag the things on the way in so they will all be organizable 
/Societies/{SocietyName}
/Photos/{Photopage}
/Free_Form/{onePage}

Don't forget allowing people do create templates to put into pages like for restaurants and such.  Preload some templates.
Give a starter kit, depending on the page.  Maybe keep State/City page all filled out and static so that its always loaded from cache and it can serve
as an example to people who are new to entering stuff.  

3-28
Don't forget to let everything be deleteable (sp?)	

3-30 
Make gMap expandable
Should have a "looking to add members" checkbox in societies so they can sort of "advertise" to get more membes for their band ... looking for a 
drummer.... oh and making that searchable....

Seems that google maps can be a drag at times... so we should make sure that stuff loads at the end.  The way to do this is to set up the div and call
the loading function at the very end of the page.  I can hack this up in my skinTemplate.  I can even do checking if it's taking to long, or 
if non compatible browsers are there and just collapse it.

4-02 
Change the html sections to be more like the monobook.php.  So its an execute function that looks like fucntion execute(){   ?> Some html <?php snppet?>
more html and other stuff.

4-08 
Slightly revised the last idea to be using <<<EOD notation.  which is heredoc.  there doc... everywhere a doc doc

4-10
Instead of the parent structure for categories (or tree) could have tags.  Extra table.  So soccer belongs to sports and health.

4-13 
Script for loading table stuff
Create table like ... to get the schema
then 
load data local infile '/Users/Chris/Desktop/zip\ data/apr2008_commercial_txt/5-digit\ Commercial.txt' into table zips_april fields terminated by '\t' lines terminated by '\n';
something like that 

4-15
So moving towards each us.wikiCommunity.org/State/County/City/
Each county can have events.... societies.. but not photos, advertisers, 

4-16
Make a separate include to LocalSettings.php that has the db things like.  Owner. TYPE so 1 maps to user, 2 to evnent (for tagging a photo).
Best example is Society.  So a society can be created and mapped to a zip, city, county, or state.  So in society talbe we'll have creator_type with an id
We aren't going to store those mappings in a table I don't think (even though I don't know anything).  
What about regions (New England)?  Maybe later.
We should do some management when adding locations to see if there is one reasonable close (within x feet or something, so to reuse locations and not 
overload that table)

Consider either allowing societies to be taggable, searchable, or tree like structure.  
Also do either column for each state_id zip_id for one query with outer join OR do constants for type OR have another table to join/lookup.

4-21
Mike Soltys's advice
1. organized and plan in advance
2. Email link with some good quality pics with me on it with bike and jersey, factsheets.
3. Week or two out from a place holler at them.
4. Sell it to them, I can envision the site helping these local businesses... etc.